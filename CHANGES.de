------------------------------------------------------------------------------

                   Änderungen der Component Tester Firmware

                                Trendy Edition

                  für ATmega328 mit Text- oder Grafikdisplay

                        (c) 2012-2015 by Markus Reschke

------------------------------------------------------------------------------

v1.20m 2015-12
- Funktion zum Erkennen und Decodieren von IR-Fernsteuerungen implementiert.
  Benötigt ein TSOP IR-Empfängermodul.
- MainMenu() geändert, um RAM-Nutzung zu verkleinern.

v1.19m 2015-11
- Grafisches Pinout für 3-Pin Halbleiter. Zeigt Symbol plus Testpins.
- Farbunterstützung eingebaut.
- Direkte Ausgabe der Diodenanzahl in ShowDiode(), wenn mehr als 3 Dioden
  gefunden wurden (nicht länger per Show_Fail()). Hinweis von hapless@eevblog
- LCD_ClearLine() in allen LCD-Modul-Treibern so erweitert, daß auch nur der
  Zeilenrest gelöscht werden kann, um das Löschen speziell für Grafik-LCDs zu
  beschleunigen. Die Idee ist, zuerst den Text auszugeben und dann den
  Zeilenrest zu löschen, anstatt zuerst die ganze Zeile zu löschen und dann
  den Text auszugeben.
- Treiber für ILI9341/ILI9342 basierte LCD-Module geschrieben. Dank an
  Overtuner @ EEVblog-Forum für zwei LCD-Module zum Testen.
- Problem mit dem µ/micro Zeichen in den Zeichensatzdateien gelöst.
- Fehler bei Zeichen größer 8x8 in LCD_Char() für den ST7565R beseitigt. 
- Tschechische Texte aktualisiert (Dank an Kapa).
- Kleinen Fehler in MenuTool() beim Sprung vom letzten zum ersten Punkt
  beseitigt.

v1.18m 2015-07
- MenuTool() so verbessert, daß nur eine geänderte Liste aktualsiert wird.
  Ansonsten wird nur der Auswahlindikator aktualsiert.
- Fehler im Variablenmanagement in config.h beseitigt.
- Möglichkeit zum Zurücksetzen auf Firmware-Standardwerte beim Einschalten.
- Funktionen zum Speichern/Lesen der Abgleichwerte optimiert. 
- Treiber für ST7565R Grafikmodule.
- Einfache Umgebung zum Einbinden von weiteren LCD-Controllern entworfen.
  Generische Displayfunktionen nach display.c verschoben. Jeder Controller
  erhält eine eigene Source- und Headerdatei. Der alte Treiber für HD44780
  wurde an die neue Umgebung angepaßt.
- Benutzerschnittstelle für den flexiblen Umgang mit mehrzeiligen LCD-Modulen
  umgebaut.
- Sourceabhängigkeiten zu ATmega168 entfernt (zu klein ;).
- Bedienungslogik in MenuTool() optimiert.
- Neue Firmware-Edition gestartet, welche auch grafische LCD-Module
  unterstützt. Diese Version heißt "Trendy Edition". Die alte Firmwareversion
  nennt sich nun "Classic Edition".

v1.17m 2015-02
- Verbesserung von CheckDiode(). Gemessenes Vcc wird bei der Widerstands-
  prüfung beachtet. Außerdem Erkennungsproblem von Widerständen um die 2k
  bei optionalem DC-DC-Konverter (HW_ZENER) gelöst.
- Fehlerhafte Kommentare korrigiert.
- Integer-Datentypen aufgeräumt.

v1.16m 2014-09
- Test für Drehencoder.
- Ein paar Kleinigkeiten in MeasureInductance() verbessert, um die Genauigkeit
  zu erhöhen.
- ShowAdjust() um die Anzeige der Absolutwerte von Vcc und der internen
  Spannungsreferenz ergänzt (Vorschlag von Vlastimil Valouch).
- Mehrere kleine Verbesserungen.

v1.15m 2014-09
- Erweiterung von TestKey() um die Erkennung der dynamischen Drehgeschwindig-
  keit des optionalen Drehencoders.
- Rechteck-Signalgenerator mit variabler Frequenz implementiert.
- MeasureInductance() zur Rückgabe der Zeit in ns geändert und die Berechnung
  in MeasureInductor() angepaßt (Dank an Vlastimil Valouch).

v1.14m 2014-08
- Benutzerschnittstelle für Drehencoder angepaßt.
- Compiler-Warnung bzgl. R_Pin2 in ShowDiode() beseitigt (Dank an
  Milan Petko).
- Widerstände zwischen 1,5k und 3k-Ohm wurden als Doppeldioden erkannt.
  Toleranzen der Widerstanderkennung in CheckDiode() angepaßt (Danke an
  nessatse).
- ShortCircuit() so modifiert, daß man das Erzeugen eines gewollten 
  Kurzschlusses bei Problemen abbrechen kann.
- Frequenzzähler eingebaut (Hardware-Option).

v1.13m 2014-07
- Tschechische Texte (Dank an Kapa).
- Direkte ESR-Messung und PWM-Generator geben benutzte Testpins aus.
- Handhabung von Precompiler-Anweisungen für Optionen optimiert.
- Unterstützung von Drehencodern für die Bedienung (Hardware-Option).

v1.12m 2014-03
- Umlautproblem bei deutschen Texten gelöst (Dank an Andreas Hoebel).
- ESR-Messung für Kondensatoren >0,18µF.
- LCD-Modul-Ausgabe optimiert, um ein paar Bytes Flash einzusparen. 

v1.11m 2014-03
- Pin-Erkennung von Triacs verbessert (G und MT1). Die Ausgabe zeigt
  MT1 und MT2.
- Dedizierte Ausgabefunktion für Pinbelegung von Halbleitern. Ausgabe auf
  das Format "123=" zur besseren Lesbarkeit umgestellt.
- Mehrere Ausgabefunktionen optimiert.
- Test von Bipolartransistoren verbessert, um Transistoren mit Schutzdiode
  auf dem gleichen Substrat zu erkennen (erzeugt einen parasitären zweiten
  Transistor). Die Transistorausgabe kennzeichnet diesen Spezialfall mit
  einem "+" hinter der Typenangabe.
- Diodenausgabe um Anzeige von möglichem Bipolartransistor mit Schutzdiode
  und Basis-Emitter-Widerstand erweitert. Dieser wird als Doppeldiode
  erkannt. Die Ausgabe des Basis-Emitter-Widerstands signalisiert diesen
  Spezialfall.
- Ausgabe von Bipolartransistoren um Anzeige von Basis-Emitter-Widerstand
  ergänzt. Wenn ein Basis-Emitter-Widerstand gefunden wurde, wird die Ausgabe
  von hFE und V_BE übersprungen, da beide Werte nicht stimmen können,
- Erkennung der integrierten Diode von Verarmungs-FETs im Diodentest verbessert.
- Erkennungsproblem von Drain und Source bei Verarmungs-FETs beseitigt.
- Erkennung von symmetrischem Drain und Source bei Verarmungs-FETs.
- Vth ist nun negativ für P-Kanal FETs.  
- Messung von V_GT für Thyristoren und Triacs.
- Wegen wachsender Firmwaregröße gibt es den PWM-Generator nur noch für den
  ATmega328.

v1.10m 2013-10
- Unterstützung für externe 2,5V Spannungsreferenz einegbaut (Hardware-Option).
- Unterstützung für Schutz-Relais (Kondensatorentladung) eingebaut (
  Hardware-Option).
- Auf-Wiedersehen-Text beim Ausschalten zu Willkommen-Text beim Einschalten
  geändert, um die Erkennung einer zu niedrigen Versorgungsspannung zu
  erleichtern und den Spannungseinbruch durch einen DC-DC-Konverter beim
  Einschalten abzumildern.
- Test von Zenerdioden implementiert (Hardware-Option).
- Das Hauptmenü hat eine Beenden-Option, um das Menü bei Aufruf aus Versehen
  zu verlassen.
- Unterstützung von 16MHz MCU-Takt.

v1.09m 2013-07
- Erkennung von IGBTs eingebaut.
- Zusätzliche Überprüfung von MOSFETs eingebaut.
- Die hFE-Messung für Bipolartransistoren berücksichtigt den Leckstrom bei der
  Messung in Emitterschaltung.
- Bei MOSFETs wird die Richtung der integrierten Diode angezeigt.
- Problem mit verdrehten Drain und Source-Pins bei Anreicherungs-MOSFETs gelöst.
- Lösung für Probleme mancher IDEs mit dem Makefile. Wichtige Werte bzw.
  Einstellungen können auch in config.h gesetzt werden.

v1.08m 2013-07
- Da SmallResistor() bei bestimmten Induktivitäten keinen korrekten Gleich-
  stromwiderstandswert liefern kann, wurde CheckResistor() um eine Erkennung
  der Problemfälle ergänzt, um die Meßwerte der Standardmessung beizubehalten.
- Induktivitätsmessung eingebaut (nur für ATmega328/P)
- Kleinere Verbesserungen bei der Anzeige von Dioden und Bipolartransistoren.
- Leckstrommessung eingebaut.
- Problem bei Germanium-Transistoren mit hohem Leckstrom gelöst. Wurden als
  P-Kanal JFET erkannt.
- Ein paar Funktionen umbenannt und Kommentare ergänzt bzw. umformuliert.

v1.07m 2013-06
- Diodenausgabe optimiert und Anzeige von Vf für niedrige Ströme eingebaut.
- Diodenerkennung verbessert. Kondensatoren und Widerstände werden
  deutlich besser ausgeschlossen. Die Kondensatorerkennung wird bei
  erkannter Diode übersprungen, um den Suchvorgang zu verkürzen. 
- Array-Überlauffehler in CheckResistor() beseitigt.
- Anzeigelogik für Cursor verbessert, um das Vorhandensein weiterer Infos
  bzw. die erneute Bauteilsuche anzuzeigen.
- Bedienung vom PWM-Generator verbessert, um das Beenden aus Versehen zu
  vermeiden (braucht nun zwei kurze Tastendrücke).
- Generische Menüfunktion eingabeut und alle Menüs darauf umgestellt (
  geändertes Layout!).
- TestKey() produziert nun einen schönen, blinkenden Cursor.

v1.06m 2013-03
- Mehrere kleine Verbessserungen und etwas aufgeräumt.
- TestKey() so erweitert, daß der Benutzer über die erwartete Eingabe
  informiert werden kann.
- TestKey()-Funktion bzgl. kurzer Tastendrücke verbessert.
- PWM-Generator zur Erzeugung von pulsweitenmodulierten Signalen mit
  unterschiedlichen Frequenzen und frei wählbarem Tastverhältnis eingebaut.
- Implementation einer Schlaffunktion, um den Stromverbrauch des Testers zu
  reduzieren. Der durchschnittliche Stromverbrauch wird damit auf etwas die
  Hälfte verringert (Hintergrundbeleuchtung ausgenommen).
- Endladefunktion verbessert. Wenn das Entladen fehl schlägt, werden die
  betroffenden Pins und die Restspannung ausgegeben. Das sollte helfen,
  einen zu niedrigen Wert für CAP_DISCHARGED zu entdecken.
- Möglichkeit zum Setzen von Fehlertypen eingebaut.

v1.05m 2012-11
- LargeCap_table[] und SmallCap_table[] vom EEPROM in das Flash verschoben,
  um den EEPROM-Bedarf zu reduzieren. Die Firmware mit deutschen Texten
  brauchte mehr als die 512 Bytes vom ATmega168.

v1.04m 2012-11
- Einfache Logik in die Dioden-Ausgabe einbaut, damit bei anti-parallelen
  Dioden die Kapazitätsmessung entfällt.

v1.03m 2012-11
- Erkennungsproblem von Leistungsdioden gelöst. Dioden mit hohem Leckstrom
  wurden als Widerstand erkannt.
- Compiler-Warnungen bzgl. nicht initialisierter Variablen beseitigt.
  Vergrößert die Firmware um 44 Bytes :-(

v1.02m 2012-11
- Obere Grenze für den Widerstand der Messleitungen von 1,00 Ohm im
  Selbstabgleich eingebaut.
- Die Funktionen für den Selbsttest und -Abgleich führen einen Kurzschlußtest
  durch und geben Rückmeldung.
- Das Hauptmenü gibt Rückmeldung über Erfolg/Fehler der ausgewählten Aktion.

v1.01m 2012-10
- Prüfsumme für gespeicherte Abgleichwerte plus Überprüfung.
- Messfunktion für kleine Widerstände (Auflösung: 0,01 Ohm).
- Selbstabgleich um Nulloffset für den Widerstand der Messkabel erweitert.
- CheckResistor() führt zusätzliche Messung für kleine Widerstände (<10 Ohm)
  durch.
- Funktion zum Vergleich von skalierten Werten eingefügt. 
- Mehrere Funktionen an die variable Skalierung von Werten angepaßt.

v1.00m 2012-09
- Einfaches Menü zur Auswahl von Selbsttest, Selbstabgleich, Speichern der
  Abgleichwerte im EEPROM und Anzeige der Abgleichswerte.
- hFE von 16 auf 32 Bit geändert (keine 65k-Begrenzung mehr).

v0.99m 2012-09
- Erste veröffentlichte Version basierend auf Karl-Heinz' 0.99k.


------------------------------------ EOF -------------------------------------
